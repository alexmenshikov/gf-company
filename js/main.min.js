
const headerSlider=()=>{const headerSwiper=new Swiper(".header__slider",{loop:true,speed:2500,autoplay:{delay:2000,disableOnInteraction:false,},pagination:{el:".header__swiper-pagination",clickable:true,},});};headerSlider();const burger=()=>{const burger=document.querySelector(".burger");burger.addEventListener("click",()=>{burger.classList.toggle("open");});};burger();const eventScroll=()=>{const animItems=document.querySelectorAll(".anim-items");if(animItems.length>0){window.addEventListener("scroll",animOnScroll);function animOnScroll(){animItems.forEach((item)=>{const animItem=item;const animItemHeight=animItem.offsetHeight;const animItemOffset=offset(animItem).top;const animStart=4;let animItemPoint=window.innerHeight-animItemHeight/animStart;if(animItemHeight>window.innerHeight){animItemPoint=window.innerHeight-window.innerHeight/animStart;}
if(pageYOffset>animItemOffset-animItemPoint&&pageYOffset<animItemOffset+animItemHeight){animItem.classList.add("active");}});}
function offset(el){const rect=el.getBoundingClientRect(),scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,scrollTop=window.pageYOffset||document.documentElement.scrollTop;return{top:rect.top+scrollTop,left:rect.left+scrollLeft};}}};eventScroll();const servicesTabs=()=>{const tabOne=document.getElementById("services__item-one");const tabTwo=document.getElementById("services__item-two");const listOne=document.getElementById("services__list-one");const listTwo=document.getElementById("services__list-two");const arrowOne=document.getElementById("arrow-one");const arrowTwo=document.getElementById("arrow-two");const gridRow=document.querySelector(".services__items");tabOne.addEventListener("click",()=>{if(!tabOne.classList.contains("active")&&!listOne.classList.contains("active")){tabOne.classList.toggle("active");listOne.classList.toggle("active");arrowOne.classList.toggle("active");if(window.innerWidth<=768){gridRow.style.gridTemplateRows="31px 1fr 31px 0";}}
if(tabTwo.classList.contains("active")&&listTwo.classList.contains("active")){tabTwo.classList.toggle("active");listTwo.classList.toggle("active");arrowTwo.classList.toggle("active");}});tabTwo.addEventListener("click",()=>{if(!tabTwo.classList.contains("active")&&!listTwo.classList.contains("active")){tabTwo.classList.toggle("active");listTwo.classList.toggle("active");arrowTwo.classList.toggle("active");if(window.innerWidth<=768){gridRow.style.gridTemplateRows="31px 0 31px 1fr";}}
if(tabOne.classList.contains("active")&&listOne.classList.contains("active")){tabOne.classList.toggle("active");listOne.classList.toggle("active");arrowOne.classList.toggle("active");}});};servicesTabs();const technologiesTabs=()=>{const jsTrigger=document.querySelectorAll(".js-tab-trigger");jsTrigger.forEach((item)=>{item.addEventListener("click",()=>{let tabName=item.getAttribute("data-tab");let tabContent=document.querySelector('.js-tab-content[data-tab="'+tabName+'"]');document.querySelectorAll(".js-tab-content.active").forEach((item)=>{item.classList.remove("active");});tabContent.classList.add("active");document.querySelectorAll(".js-tab-trigger.active").forEach((item)=>{item.classList.remove("active");});item.classList.add("active");});});};technologiesTabs();const technologiesAction=()=>{const plus=document.querySelectorAll(".tabs__content-info");plus.forEach((item)=>{item.addEventListener("click",()=>{let plusInfo=item.querySelectorAll(".tabs__content-hover");plusInfo.classList.add("active");});});};technologiesAction();const projectsSlider=()=>{const projectsSwiper=new Swiper(".projects__slider",{loop:false,speed:1500,spaceBetween:19,watchOverFlow:true,simulateTouch:true,scrollbar:{el:".swiper-scrollbar",dragSize:80,draggable:true,},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next",},breakpoints:{300:{slidesPerView:1.41,},350:{slidesPerView:1.45,},400:{slidesPerView:1.6,},450:{slidesPerView:1.8,},500:{slidesPerView:2.2,},550:{slidesPerView:2.5,},660:{slidesPerView:2.5,},768:{slidesPerView:2.1,},800:{slidesPerView:2.5,},940:{slidesPerView:3,},},});const swiperCurrentNumber=document.querySelector(".projects__scroll-current");const swiperCountNumber=document.querySelector(".projects__scroll-count");const countProjectsSlides=document.querySelectorAll(".projects__slide");let ProjectsSlidesLength=countProjectsSlides.length;swiperCountNumber.innerText=`0${ProjectsSlidesLength}`;projectsSwiper.on("slideChange",()=>{let index=projectsSwiper.realIndex+1;swiperCurrentNumber.innerText=`0${index}`;});};projectsSlider();const offer=()=>{const name=document.getElementById("offer_form_name");const phone=document.getElementById("offer_form_phone");const btn=document.querySelector(".offer__form-btn");btn.addEventListener("click",()=>{name.classList.remove("active");phone.classList.remove("active");if(!name.value){name.classList.add("active");}
if(!phone.value){phone.classList.add("active");}});};offer();const validationForm=()=>{const name=document.getElementById("modal_form_name");const phone=document.getElementById("modal_form_phone");const agree=document.querySelector(".modal__form-checkbox");const btn=document.querySelector(".modal__form-btn");btn.addEventListener("click",()=>{console.log("press");name.classList.remove("error");phone.classList.remove("error");agree.querySelector(".checkbox").classList.remove("error");if(!name.value){name.classList.add("error");}
if(!phone.value){phone.classList.add("error");}
console.log(agree.querySelector(".hidden-checkbox").checked);if(!agree.querySelector(".hidden-checkbox").checked){agree.querySelector(".checkbox").classList.add("error");}});};const modalCallBack=()=>{const btn=document.querySelector(".header__phone-backcall");const modal=document.querySelector(".modal");const body=document.querySelector("body");const close=document.querySelector(".modal__close");btn.addEventListener("click",(event)=>{event.preventDefault();const modal_btn=document.querySelector(".modal__form-btn");modal.classList.add("active");body.classList.add("block");modal_btn.querySelector(".btn__text").innerText="Заказать звонок";validationForm();});document.addEventListener("mousedown",(event)=>{if(event.target.closest(".modal__wrapper")===null){modal.classList.remove("active");body.classList.remove("block");}});close.addEventListener("click",()=>{modal.classList.remove("active");body.classList.remove("block");});};modalCallBack();const submit_application=()=>{const btn=document.querySelectorAll(".btn-modal");const modal=document.querySelector(".modal");const body=document.querySelector("body");const close=document.querySelector(".modal__close");btn.forEach((item)=>{item.addEventListener("click",(event)=>{event.preventDefault();const modal_btn=document.querySelector(".modal__form-btn");modal.classList.add("active");body.classList.add("block");modal_btn.querySelector(".btn__text").innerText=item.querySelector(".btn__text").innerText;validationForm();});});document.addEventListener("mousedown",(event)=>{if(event.target.closest(".modal__wrapper")===null){modal.classList.remove("active");body.classList.remove("block");}});close.addEventListener("click",()=>{modal.classList.remove("active");body.classList.remove("block");});};submit_application();